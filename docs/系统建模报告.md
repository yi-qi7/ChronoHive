# 系统建模报告

编写：赵施琦  日期：2025-05-17

审核：to do   日期：to do

发布版次：1.0 日期：2025-05-11

## 变更记录
| 日期         | 版本        | 变更说明    | 作者        |
| :----:       |    :----:  |   :----:   |    :----:   |
| 2025-05-17   | 1.0        | 初始版本    |  赵施琦     |
|              |            |            |             |


## 1. 引言
### 1.1 编写目的
本报告基于统一建模语言（UML）对系统进行全面建模与分析，旨在通过标准化图形语言实现以下目标：

1. 需求可视化与共识达成。将抽象需求转化为可视化的用例图、类图等模型，帮助开发团队、客户及利益相关者准确理解系统的功能边界与核心流程，减少沟通歧义。

2. 设计规范化与架构指导。通过类图定义系统静态结构（如模块、实体关系），通过序列图、状态图描述动态交互逻辑，为后续编码提供清晰的架构设计依据，避免开发偏差。

3. 设计验证与风险控制。在开发前通过模型验证关键场景的可行性（如异常流程、并发操作），识别潜在逻辑漏洞或性能瓶颈，降低迭代返工风险。

4. 技术协作与知识传递。作为跨职能团队（如开发、测试、运维）的协作基准文档，确保技术方案的一致性；同时为新成员提供系统设计的快速入门指南。

5. 维护与扩展支持。通过模块化建模明确系统各组件职责与依赖关系，为未来功能扩展、重构或技术升级提供可追溯的文档基础。

6. 标准化与合规性。遵循 UML 2.5 规范及行业最佳实践，确保模型设计的通用性与专业性，满足项目验收或外部审计的文档要求。

本报告不仅服务于系统开发阶段的实现，更致力于在需求分析、技术设计、团队协作及系统全生命周期管理中发挥枢纽作用，最终提升软件质量与项目管理效率。

### 1.2 适用范围
本报告适用于以下场景：

需求确认：为任务提出者提供系统需求的细化模型，确保功能边界清晰、无歧义。

技术设计：指导软件开发者实现核心模块的逻辑（如类结构、状态迁移规则等）。

用户验收：通过用例图、活动图向产品使用者展示功能操作流程与交互逻辑。

成本与风险评估：为投资者分析系统复杂度、技术难点及潜在风险提供依据。

### 1.3预期读者和阅读建议
本报告的预期读者为以下人员，所有读者应根据各自的角色和职责，针对报告中的内容进行详细阅读：

任务提出者：主要是项目的发起方或需求方，根据自己提出的需求对项目进行合理的建模。任务提出者应重点关注建模的明确性与可行性，并确保项目在建模层面没有模糊之处。

软件开发者：负责软件的设计、开发、测试、部署等工作，开发者需详细阅读本报告中关于系统建模的实现部分，以确保开发过程按照标准进行，减少开发中的问题和返工。

产品使用者：使用该软件产品的最终用户，关注报告中的整体部分，以便理解软件是如何建模的、能为他们提供什么样的功能以及如何使用。产品使用者可以提供反馈，帮助开发团队对软件模型进行调整和优化。

软件投资者：对项目进行资金投入的组织或个人，根据软件模型关注项目的成本、风险评估、质量保障等部分，确保投资得到有效的回报。投资者需关注软件项目的商业目标与预算控制。

---

## 2. 系统概述
### 2.1 系统背景
当前国内市场缺乏专业的智能日程规划工具，形成了明显的生态空缺。虽然海外产品功能全面，但通常存在适应性差的问题（例如时区调整困难、本土服务整合度低、多语言切换不流畅等），导致在国内的使用效果打折。而本土的解决方案则普遍面临闭源收费高、功能重复、隐私保护不透明等问题。用户在日常工作中通常需要花费超过30%的时间来手动整理零散的任务，频繁协调会议安排、处理优先级冲突和应对截止日期压力。而在跨平台数据同步和二次开发的灵活性方面，用户更是面临诸多挑战。为了填补这一市场空白，我们开发了一款开源免费的智能日程规划软件，旨在帮助用户高效管理日程，减少时间浪费，降低个人与中小团队在时间管理上的门槛。特别是对于自由职业者、远程工作者等新兴职业群体，该软件将有助于他们建立起系统化的生产力框架，从而推动知识经济时代人力资源的优化配置，提升整体工作效率。

### 2.2 系统目标
时光蜂巢旨在利用现有的大语言模型技术，为用户提供高效的日程规划与优化服务。预期能够帮助用户高效管理日程，减少时间浪费，降低个人与中小团队在时间管理上的门槛。希望我们的软件不仅仅只是在学生群体中得到运用，而是可以有助于自由职业者、远程工作者等新兴职业群体建立起系统化的生产力框架，从而推动知识经济时代人力资源的优化配置，使大家的工作效率大大提高。

---

## 3. 用例图
### 3.1 用例图概述
用例图主要用于展示系统的功能需求，以及参与者和系统之间的交互。它能清晰地说明系统提供的服务，参与者（用户或外部系统）如何与系统互动，以及各个用例之间的关系。这样有助于在项目初期明确系统的范围和功能。

### 3.2 用例图
![plantuml](docs/uml/image/用例图.png)

### 3.3 用例说明
以上面的用例图为依据，我们将对每个用例进行详细说明：

1.添加新日程条目 

参与者：用户 

描述：用户输入任务名称、时间、优先级、类别等信息，系统验证并存储数据。 扩展场景：输入模糊时间（如“下周某个下午”），系统提示用户明确时间范围。

---

2.自动生成日程规划 

参与者：系统（调用大模型API） 

描述：基于用户输入的日程和偏好（如优先级、时间块偏好），生成优化后的日程表。 异常流程：API调用失败时，系统提示错误并建议重试。

---

3.手动调整日程 

参与者：用户 

描述：用户通过拖拽任务块、修改时长或删除任务，个性化调整生成的日程。 扩展场景：调整后系统自动检测冲突并高亮提示。

---

4.设置生成偏好 

参与者：用户 

描述：用户预设规则（如“每天健身1小时”“优先处理高优先级任务”），影响大模型的生成逻辑。

---

5.处理时间冲突 

参与者：系统、用户 

描述：系统检测到冲突时，提供自动解决建议（如顺延任务），用户可选择接受或手动调整。

---

6.导出/同步日程 

参与者：用户 

描述：将最终日程导出为ICS文件（支持日历应用同步）或PDF格式，支持分享至社交媒体。

---

7.多场景生成模式 

参与者：用户、系统 

描述：用户选择生成模式（如“高效工作模式”“平衡休息模式”），系统调用API生成对应风格的规划。

---

8.重新生成日程 

参与者：用户 

描述：用户对结果不满意时，可修改输入条件（如调整任务时长）后触发重新生成。

---

9.查看日程详情 

参与者：用户 

描述：通过日历视图、时间轴视图或列表视图查看日程详情，支持按类别/优先级筛选。

---

10.历史版本回溯 

参与者：用户 

描述：用户可查看过往生成的日程版本，并恢复至某一历史方案。

---

## 4. 类图
### 4.1 类图概述
类图主要用于描述系统的静态结构，其核心作用有可视化系统设计、指导开发与维护、促进团队沟通、支持文档化。类图是面向对象设计的基石，贯穿软件全生命周期，确保系统结构清晰、可维护性强。

### 4.2 类图
![plantuml](docs/uml/image/类图.png)

### 4.3 类说明
以上面的类图为依据，我们将对每个类进行详细说明：

1.WeekUI（周视图界面类）

属性  
weekContainer: WeekContainer → 与周内容容器关联  
currentTime: Time → 当前显示的时间基准（用于周视图的日期范围）

方法  
askAI() → 触发AI生成/优化日程的请求  
showSetting() → 显示周视图的个性化设置（如时间块密度、颜色主题）

关系  
聚合 WeekContainer ，通过 has 关系持有容器实例  
依赖 Time ，使用时间对象定义当前视图范围

---

2.MonthUI（月视图界面类）

属性  
monthContainer: MonthContainer → 与月内容容器关联

方法  
askAI() → 触发AI生成/优化日程的请求（可能涉及整月调度）  
showSetting() → 显示月视图的个性化设置（如是否显示节日标记）

关系  
聚合 MonthContainer ，通过 has 关系持有容器实例

---

3.WeekContainer（周内容容器类）

属性  
weekNumber: string → 周编号（如“2024-W25”）  
dayContainer[7]: DayContainer → 包含7天的容器（固定长度数组）

方法  
（隐含方法：遍历/操作DayContainer）

关系  
组合 DayContainer，严格包含7天的子容器  
被 WeekUI 持有（聚合关系）

---

4.MonthContainer（月内容容器类）

属性  
currentMonth: int → 当前月份（如1~12）  
daysNumber: int → 当月的总天数（28~31）  
dayContainer[daysNumber]: DayContainer → 动态长度的每日容器数组

方法  
（隐含方法：根据月份动态调整天数）

关系  
组合 DayContainer ，包含当月的所有天容器  
被 MonthUI 持有（聚合关系）

---

5.DayContainer（每日容器类）

属性  
date: Time → 具体的日期对象  
isToday: boolean → 标记是否为当天  
allSchedule: LinkedList → 用链表结构存储当天的所有日程项

方法  
showAvailable() → 可视化显示当天的空闲时间段

关系  
组合 ScheduleItem (*--)，包含多个日程项  
被 WeekContainer 和 MonthContainer 持有（组合关系）  
持有 Time 对象（*-l-）定义具体日期

---

6.ScheduleItem（日程项类）

属性  
id: int → 唯一标识符  
title: string → 日程标题  
startTime/endTime/remindTime: Time → 时间段与提醒时间  
isCompleted: boolean → 完成状态标记  
color: string → 显示颜色（用于UI区分）

方法  
updateSchedule() → 修改日程属性  
addSchedule() → 新增关联的子日程  
deleteSchedule() → 移除自身（需处理链表连接）

关系  
持有 Time 对象（*-l-），定义时间属性  
被 DayContainer 包含（组合关系）

---

7.Time（时间类）

属性  
year/month/day/hour/minute/second: int → 精确到秒的时间  
weekday: string → 星期几（如“Monday”）

方法  
showISOType(): string → 输出ISO标准格式时间（如 &quot;2024-06-25T14:30:00&quot;）

关系  
被 ScheduleItem、DayContainer、WeekUI 等类依赖

---

关键关系总结

界面与容器WeekUI/MonthUI 作为入口，持有 WeekContainer/MonthContainer，实现视图切换（周/月模式）。  
容器嵌套结构月容器→天容器→日程项，周容器→天容器→日程项，形成多层组合关系。  
时间核心性Time 类贯穿整个模型，用于定义日期、时间段、提醒等，是数据流动的关键载体。

---

## 5. 序列图
### 5.1 序列图概述
简要描述序列图的作用，说明不同对象如何在特定情景中交互。

### 5.2 序列图
在此插入你的序列图，展示系统中的关键操作顺序。包括：
- 对象和参与者
- 消息的发送和接收
- 方法的调用顺序

### 5.3 序列图说明
对序列图中的关键事件进行详细描述。

---

## 6. 状态图
### 6.1 状态图概述
简要描述状态图的作用，展示系统中的对象如何根据事件变换状态。

### 6.2 状态图
在此插入你的状态图，确保图中展示了对象的状态转变，状态之间的转换条件。

### 6.3 状态转移说明
对每个状态及其转换条件进行详细描述。

---

## 7. 系统架构设计
### 7.1 系统架构概述
描述系统的总体架构，系统的模块划分、各模块之间的关系。

### 7.2 模块设计
详细描述每个模块的功能、接口及其与其他模块的关系。

---

## 8. 总结与展望
### 8.1 总结
总结报告的主要内容，回顾系统建模过程及其结果。

### 8.2 展望
对未来的工作和系统扩展进行展望，提出可能的改进方案。

---

## 9. 参考文献
列出报告中引用的所有书籍、文章、文献等。

---

## 附录
### 附录A：UML图
提供更详细的UML图，如果有多个图，可以按顺序排列。

### 附录B：其他补充材料
如设计文档、代码片段等。

